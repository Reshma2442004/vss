<!DOCTYPE html>
<html>
<head>
    <title>Test Bulk Email Functions</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
    <h3>Bulk Email Function Test</h3>
    
    <button class="btn btn-primary" onclick="testToggle()">Test toggleBulkEmailMode()</button>
    <button class="btn btn-success" onclick="testSend()">Test sendBulkEmail()</button>
    
    <div id="bulkEmailControls" style="display:none;" class="mt-3 alert alert-info">
        Bulk Email Controls Visible!
    </div>
    
    <table class="table mt-3">
        <thead>
            <tr>
                <th id="bulkSelectHeader" style="display:none;">Select</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="bulk-select-cell" style="display:none;">
                    <input type="checkbox" class="student-checkbox" 
                           data-student-id="1" 
                           data-student-name="John Doe" 
                           data-student-email="john@test.com">
                </td>
                <td>John Doe</td>
            </tr>
            <tr>
                <td class="bulk-select-cell" style="display:none;">
                    <input type="checkbox" class="student-checkbox" 
                           data-student-id="2" 
                           data-student-name="Jane Smith" 
                           data-student-email="jane@test.com">
                </td>
                <td>Jane Smith</td>
            </tr>
        </tbody>
    </table>
    
    <div id="output" class="mt-3"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="rector_functions.js"></script>
    <script>
        function testToggle() {
            console.log('Testing toggleBulkEmailMode...');
            if (typeof toggleBulkEmailMode === 'function') {
                toggleBulkEmailMode();
                document.getElementById('output').innerHTML = '<div class="alert alert-success">toggleBulkEmailMode() executed! Check console.</div>';
            } else {
                document.getElementById('output').innerHTML = '<div class="alert alert-danger">toggleBulkEmailMode() NOT FOUND!</div>';
            }
        }
        
        function testSend() {
            console.log('Testing sendBulkEmail...');
            if (typeof sendBulkEmail === 'function') {
                sendBulkEmail();
                document.getElementById('output').innerHTML = '<div class="alert alert-success">sendBulkEmail() executed! Check console.</div>';
            } else {
                document.getElementById('output').innerHTML = '<div class="alert alert-danger">sendBulkEmail() NOT FOUND!</div>';
            }
        }
        
        console.log('Functions available:', {
            toggleBulkEmailMode: typeof toggleBulkEmailMode,
            sendBulkEmail: typeof sendBulkEmail
        });
    </script>
</body>
</html>
